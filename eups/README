see https://dev.lsstcorp.org/trac/wiki/EupsTutorial/HowToDistrib

DEPRECATED :

# removal of all /opt/lsst, and reinstall of eups
# content of misc/eups is available on github : https://github.com/fjammes/misc/tree/master/eups
cd ~/misc/eups/pkg/protobuf/2.4.1/
setup -r .
eups declare --force -r . protobuf 2.4.1
eups expandbuild -V 2.4.1 ups/protobuf.build > protobuf-2.4.1.build
# python dep has been removed
#eups expandtable ups/protobuf.table > protobuf-2.4.1.table

[eups@clrlsst-dbmaster-vm 2.4.1]$ eups distrib create  protobuf 2.4.1 --force -v --server-dir=~/tmp/pkgroot/ -d builder -S buildFilePath=:
Overwriting existing dependency, protobuf 2.4.1

scp -r ~/tmp/pkgroot/* fjammes@clrinfopc04:/home/fjammes/www/eups_pkgroot

[eups@clrlsst-dbmaster-vm 2.4.1]$ eups distrib install --force -j -vvv --repository=http://clrinfopc04/fjammes/eups_pkgroot/ protobuf 2.4.1
eups distrib: Product protobuf 2.4.1 not found in any package repository
