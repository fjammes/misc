setup lssteups
mkdir -p /opt/lsst/Linux64/external/protobuf/2.4.1/


# content of misc/eups is available on github : https://github.com/fjammes/misc/tree/master/eups
cp -r . ~/misc/eups/pkg/protobuf/2.4.1/ups/ /opt/lsst/Linux64/external/protobuf/2.4.1/
cd /opt/lsst/Linux64/external/protobuf/2.4.1/
setup -r .
eups declare --force -r . protobuf 2.4.1

mkdir -p ~/tmp/pkgroot
cd ~/tmp/pkgroot
wget http://sw.lsstcorp.org/pkgs/config.txt

cd /opt/lsst/Linux64/external/protobuf/2.4.1/

# with or without --force
eups distrib create --force -v --server-dir=~/tmp/pkgroot/ -d builder -S buildFilePath=:ups/ protobuf 2.4.1

eups distrib create --debug=  -j -v --server-dir=~/tmp/pkgroot/ --use-flavor=generic -d builder -S buildFilePath=:ups/ protobuf 2.4.1

# what are .bld files ??

[eups@clrlsst-dbmaster-vm ~]$ eups distrib install --force -j --repository=/home/eups/tmp/pkgroot/ protobuf 2.4.1
Required product protobuf 2.4.1 is already installed; forcing a reinstall
Installing protobuf 2.4.1 for generic...
Failed to install protobuf 2.4.1: /home/eups/tmp/pkgroot//protobuf-2.4.1.build: file not found
eups distrib: /home/eups/tmp/pkgroot//protobuf-2.4.1.build: file not found

